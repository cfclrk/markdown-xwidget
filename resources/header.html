<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
  body {
    box-sizing: border-box;
    min-width: 200px;
    max-width: 980px;
    width: 100%;
    margin: 0 auto;
    padding: 45px;
  }
</style>

<script
  type="text/javascript"
  id="MathJax-script"
  src="{{ mathjax-js }}"
></script>

<script type="text/javascript" src="{{ highlight-js }}"></script>

<script type="text/javascript" src="{{ mermaid-js }}"></script>

<script type="text/javascript">
  // Use highlight.js for syntax highlighting on non-mermaid code blocks.
  hljs.configure({ noHighlightRe: /^mermaid$/i });
  hljs.highlightAll();
</script>

<script type="text/javascript">
  mermaid.initialize({
    theme: "{{ mermaid-theme }}",
    startOnLoad: true,
  });
</script>

<script type="text/javascript">
  document.addEventListener("DOMContentLoaded", () => {
    // Add a "markdown-body" class attribute to the body. We must do this because
    // the GitHub CSS only applies to a div with the "markdown-body" class.
    document.body.classList.add("markdown-body");

    // If there's a stored scroll location, scroll to that location. Otherwise,
    // the document resets to the top of the page every time it is refreshed.
    let prevScroll = sessionStorage.getItem("scrollY");
    if (prevScroll) window.scroll(0, prevScroll);
  });

  // Save new scroll locations on scroll.
  // See: https://developer.mozilla.org/en-US/docs/Web/API/Document/scroll_event
  let ticking = false;
  document.addEventListener("scroll", (event) => {
    if (!ticking) {
      window.requestAnimationFrame(() => {
        sessionStorage.setItem("scrollY", window.scrollY);
        ticking = false;
      });
      ticking = true;
    }
  });
</script>
